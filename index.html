<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BTB Terminal</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Chart.js for visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="terminal-container">
        <!-- Header Section with Ticker -->
        <header class="terminal-header">
            <div class="header-left">
                <div class="logo-container">
                    <img src="e-cell.png" alt="E-Cell Logo" class="ecell-logo">
                    <h1><span class="logo-part">BTB</span> Terminal</h1>
                </div>
                <div class="market-status">
                    <span class="status-indicator"></span>
                    <span>Market Open</span>
                </div>
            </div>
            
            <!-- Ticker Container -->
            <div class="ticker-container">
                <div class="stock-ticker"></div>
            </div>
            
            <div class="header-right">
                <div id="budget-tracker" class="budget-display">
                    <i class="fas fa-wallet"></i>
                    <span>â‚¹1,000,000.00</span>
                </div>
                <div class="nifty-container">
                    <div class="nifty-label">NIFTY 10</div>
                    <div class="nifty-ticker"></div>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Left Panel - Market Data (Optional, can be added later) -->
            <aside class="left-panel">
                <!-- Can add watchlist or market data here -->
            </aside>

            <!-- Center Panel - Main Content -->
            <main class="center-panel">
                <nav class="content-tabs">
                    <ul>
                        <li class="tab active" data-tab="positions">
                            <i class="fas fa-chart-line"></i>
                            <span>Positions</span>
                        </li>
                        <li class="tab" data-tab="orders">
                            <i class="fas fa-list"></i>
                            <span>Orders</span>
                        </li>
                        <li class="tab" data-tab="charts">
                            <i class="fas fa-chart-pie"></i>
                            <span>Charts</span>
                        </li>
                    </ul>
                </nav>

                <div class="tab-content">
                    <!-- POSITIONS TAB -->
                    <section id="positions-tab" class="tab-pane active">
                        <div class="table-header">
                            <h2>Your Positions</h2>
                            <div class="table-actions">
                                <button class="refresh-btn">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                            </div>
                        </div>
                        <div id="positions-table-container">
                            <!-- Table rendered by JS -->
                        </div>
                    </section>

                    <!-- ORDERS TAB -->
                    <section id="orders-tab" class="tab-pane">
                        <div class="table-header">
                            <h2>Order History</h2>
                            <div class="table-actions">
                                <button class="refresh-btn">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                            </div>
                        </div>
                        <div id="orders-table-container">
                            <!-- Table rendered by JS -->
                        </div>
                    </section>

                    <!-- CHARTS TAB -->
                    <section id="charts-tab" class="tab-pane">
                        <div class="chart-container">
                            <div class="chart-box">
                                <h3>Portfolio Distribution</h3>
                                <canvas id="holdings-chart"></canvas>
                            </div>
                            <div class="chart-box">
                                <h3>Profit & Loss</h3>
                                <canvas id="pnl-chart"></canvas>
                            </div>
                        </div>
                    </section>
                </div>
            </main>

            <!-- Right Panel - Trading Widget -->
            <aside class="right-panel">
                <div class="trading-widget">
                    <div class="widget-header">
                        <h3><i class="fas fa-exchange-alt"></i> Trade</h3>
                        <button id="activate-bid" class="bid-btn">
                            <i class="fas fa-handshake"></i> Bid
                        </button>
                    </div>
                    
                    <div class="widget-body">
                        <form id="trade-form" class="trade-form">
                            <div class="form-group">
                                <label for="team-name">Team Name</label>
                                <div class="input-with-icon">
                                    <i class="fas fa-users"></i>
                                    <input type="text" id="team-name" required placeholder="Enter team name">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="stock-select">Stock</label>
                                <div class="input-with-icon">
                                    <i class="fas fa-chart-bar"></i>
                                    <select id="stock-select"></select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group half-width">
                                    <label for="stock-price">Price</label>
                                    <div class="input-with-icon">
                                        <i class="fas fa-tag"></i>
                                        <input type="text" id="stock-price" readonly>
                                    </div>
                                </div>
                                <div class="form-group half-width">
                                    <label for="quantity">Quantity</label>
                                    <div class="input-with-icon">
                                        <i class="fas fa-calculator"></i>
                                        <input type="number" id="quantity" min="1" required placeholder="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="total-price">Total</label>
                                <div class="input-with-icon">
                                    <i class="fas fa-money-bill-wave"></i>
                                    <input type="text" id="total-price" readonly>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="status-select">Action</label>
                                <div class="trade-actions">
                                    <div class="action-toggle">
                                        <input type="radio" id="buy-action" name="action" value="Buy" checked>
                                        <label for="buy-action" class="buy-btn">Buy</label>
                                        <input type="radio" id="sell-action" name="action" value="Sell">
                                        <label for="sell-action" class="sell-btn">Sell</label>
                                    </div>
                                </div>
                            </div>
                            
                            <button type="submit" class="submit-trade buy">
                                <i class="fas fa-arrow-up"></i> Place Buy Order
                            </button>
                        </form>
                    </div>
                </div>
            </aside>
        </div>

        <!-- Footer -->
        <footer class="terminal-footer">
            <div class="footer-content">
                <div class="footer-left">
                    <span>Powered By E-Cell</span>
                </div>
                <div class="footer-right">
                    <span class="last-update">Last updated: <span id="update-time">Just now</span></span>
                    <span class="copyright">&copy; 2025</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- Bid Dialog -->
    <div id="bid-dialog" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-handshake"></i> Initiate Bid</h2>
                <span class="close-btn" id="close-bid">&times;</span>
            </div>
            <form id="bid-form" class="modal-form">
                <div class="form-group">
                    <label for="bid-stock">Stock</label>
                    <select id="bid-stock"></select>
                </div>
                
                <div class="form-row">
                    <div class="form-group half-width">
                        <label for="bid-price">Price</label>
                        <input type="number" id="bid-price" required placeholder="Enter price">
                    </div>
                    <div class="form-group half-width">
                        <label for="bid-quantity">Quantity</label>
                        <input type="number" id="bid-quantity" required placeholder="Enter quantity">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="bid-team">Offer To</label>
                    <select id="bid-team"></select>
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-paper-plane"></i> Send Offer
                </button>
            </form>
        </div>
    </div>

    <!-- Bid Offers for receiver -->
    <div id="bid-offers-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-inbox"></i> Bid Offers</h2>
                <span class="close-btn" id="close-offers">&times;</span>
            </div>
            <div id="bid-offers-list" class="offers-list"></div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

</body>
</html>